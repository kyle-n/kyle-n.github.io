import { c as create_ssr_component } from "./ssr.js";
const metadata = {
  "layout": "post",
  "title": "How to Incrementally Migrate an Angular Project to TypeScript Strict Mode",
  "date": "2022-06-22T00:00:00.000Z",
  "keywords": "javascript, typescript, angular, frontend",
  "image": "typescript.png"
};
const Incremental_angular_typescript_adoption = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<p data-svelte-h="svelte-17e04h2">Enabling <a href="https://www.typescriptlang.org/tsconfig#strict" rel="nofollow">strict mode</a> for TypeScript is one of the best ways to ensure code quality on a project. It forces developers to handle edge cases and avoid risky type coercions. It also exposes hidden bugs.</p> <p data-svelte-h="svelte-1k1u66u">However, it is daunting to add <code>&quot;strict&quot;: true</code> to your <code>tsconfig.json</code> and see pages of build errors. As a developer, you never want to have to tell a product manager, “Sorry, new features are paused this week.”</p> <p data-svelte-h="svelte-1sfqtzs">Experienced developers also know to avoid big rewrites that take weeks to get out the door. The longer your strict mode migration goes, the more likely it is to have a blocking bug or cause massive merge conflicts or just fail. It’s better to consistently ship small, well-tested increments of code.</p> <p data-svelte-h="svelte-kwfa8w">And make no mistake, there will be build errors. Consider this example based on real code I’ve encountered before:</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'pmo-menu'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
    &lt;button (click)="addDish()">Add Dish&lt;/button>
  </span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./menu.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MenuComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">&#123;</span>

  currentUser<span class="token operator">:</span> User<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> dishService<span class="token operator">:</span> DishService<span class="token punctuation">,</span>
    <span class="token keyword">private</span> userService<span class="token operator">:</span> UserService
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>currentUser$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>currentUser <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUser <span class="token operator">=</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// fails because this.currentUser is undefined</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'currentUser:'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUser<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">addDish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentUser<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-mcnush">TypeScript throws a build error because <code>this.currentUser</code> is never assigned a value in the constructor or at declaration. This is correct! Until the <code>currentUser$.subscribe()</code> callback runs, <code>this.currentUser</code> <em>is</em> undefined. Its type should be <code>User | undefined</code>. This lets other developers who edit this component know they can’t always rely on <code>this.currentUser</code> existing.</p> <p data-svelte-h="svelte-1xzrgp8">Strict mode is great for catching errors like this. With third-party help and planning, you can adopt it.</p> <h2 data-svelte-h="svelte-1c47mae">Background</h2> <p data-svelte-h="svelte-1x8gqm8">As of TypeScript 4.7.3, the <code>strict</code> flag is shorthand for these compiler flags:</p> <ul data-svelte-h="svelte-r9ag93"><li><p><code>noImplicitAny</code></p></li> <li><p><code>noImplicitThis</code></p></li> <li><p><code>alwaysStrict</code></p></li> <li><p><code>strictBindCallApply</code></p></li> <li><p><code>strictNullChecks</code></p></li> <li><p><code>strictFunctionTypes</code></p></li> <li><p><code>strictPropertyInitialization</code></p></li> <li><p><code>useUnknownInCatchVariables</code></p></li></ul> <h3 data-svelte-h="svelte-18z2ybm"><a href="https://www.typescriptlang.org/tsconfig#noImplicitAny" title="https://www.typescriptlang.org/tsconfig#noImplicitAny" rel="nofollow">noImplicitAny</a></h3> <p data-svelte-h="svelte-qpvaxr">Throws an error if the automatic type inference ever infers the type is <code>any</code>.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token comment">// TS7006: Parameter 'dishId' implicitly has an 'any' type.</span>
<span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-1qonapg"><a href="https://www.typescriptlang.org/tsconfig#noImplicitThis" title="https://www.typescriptlang.org/tsconfig#noImplicitThis" rel="nofollow">noImplicitThis</a></h3> <p data-svelte-h="svelte-ftvhs6">Throws an error if the automatic type inference ever infers the type of <code>this</code> in a block of code is <code>any</code>.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token function">getAddDishCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>dishId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-1slqib4"><a href="https://www.typescriptlang.org/tsconfig#alwaysStrict" title="https://www.typescriptlang.org/tsconfig#alwaysStrict" rel="nofollow">alwaysStrict</a></h3> <p data-svelte-h="svelte-17jfkd9">Parses every TypeScript file using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" rel="nofollow">ES5 strict JavaScript parsing</a>, which throws errors when trying to do something inadvisable. When not using ES5 strict parsing, these operations fail silently. As explained by MDN:</p> <pre class="language-javascript"><!-- HTML_TAG_START -->${`<code class="language-javascript"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token comment">// Assignment to a non-writable global</span>
<span class="token keyword">var</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// throws a TypeError</span>
<span class="token keyword">var</span> <span class="token number">Infinity</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// throws a TypeError</span>

<span class="token comment">// Assignment to a non-writable property</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">// throws a TypeError</span>

<span class="token comment">// Assignment to a getter-only property</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token keyword">get</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// throws a TypeError</span>

<span class="token comment">// Assignment to a new property on a non-extensible object</span>
<span class="token keyword">var</span> fixed <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>fixed<span class="token punctuation">)</span><span class="token punctuation">;</span>
fixed<span class="token punctuation">.</span>newProp <span class="token operator">=</span> <span class="token string">'ohai'</span><span class="token punctuation">;</span> <span class="token comment">// throws a TypeError</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-2wvno6"><a href="https://www.typescriptlang.org/tsconfig#strictBindCallApply" title="https://www.typescriptlang.org/tsconfig#strictBindCallApply" rel="nofollow">strictBindCallApply</a></h3> <p data-svelte-h="svelte-1kgpane">Requires correct argument types when using <code>bind()</code>, <code>call()</code> and <code>apply()</code>.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'pmo-menu'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">

  </span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./menu.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MenuComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">&#123;</span>

  currentUser<span class="token operator">:</span> User <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> dishService<span class="token operator">:</span> DishService<span class="token punctuation">,</span>
    <span class="token keyword">private</span> userService<span class="token operator">:</span> UserService
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>currentUser$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>currentUser <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUser <span class="token operator">=</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-obv6y3"><a href="https://www.typescriptlang.org/tsconfig#strictNullChecks" title="https://www.typescriptlang.org/tsconfig#strictNullChecks" rel="nofollow">strictNullChecks</a></h3> <p data-svelte-h="svelte-1c7rmgg">If an variable’s type is <code>T | undefined</code>, TypeScript throws an error if you treat it as just <code>T</code>. It also treats <code>null</code> and <code>undefined</code> as separate values.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> existingDish <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span>dishes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>dish <span class="token operator">=></span> dish<span class="token punctuation">.</span>id <span class="token operator">===</span> dishId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// object is possibly undefined</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span>existingDish<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-1fg8m52"><a href="https://www.typescriptlang.org/tsconfig#strictFunctionTypes" title="https://www.typescriptlang.org/tsconfig#strictFunctionTypes" rel="nofollow">strictFunctionTypes</a></h3> <p data-svelte-h="svelte-6va52z">Requires function parameters and returns to be compatible to treat two functions as the same type.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MenuComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">&#123;</span>

  currentUser<span class="token operator">:</span> User <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

  <span class="token function-variable function">getUser</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> User<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> dishService<span class="token operator">:</span> DishService<span class="token punctuation">,</span>
    <span class="token keyword">private</span> userService<span class="token operator">:</span> UserService
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>getCurrentUser <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>getCurrentUser<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/**
Type '(id: number) => User' is not assignable to type '(name: string) => User'.
  Types of parameters 'id' and 'name' are incompatible.
    Type 'number' is not assignable to type 'string'.
*/</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-akq4ug"><a href="https://www.typescriptlang.org/tsconfig#strictPropertyInitialization" title="https://www.typescriptlang.org/tsconfig#strictPropertyInitialization" rel="nofollow">strictPropertyInitialization</a></h3> <p data-svelte-h="svelte-1jsyfmm">If a property is not <code>T | undefined</code>, it must be assigned a value of type <code>T</code> in the constructor or when it is declared.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'pmo-menu'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
    Add Dish
  </span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./menu.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MenuComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">&#123;</span>

  <span class="token comment">// TS2564: Property 'currentUser' has no initializer and is not definitely assigned in the constructor.</span>
  currentUser<span class="token operator">:</span> User<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> dishService<span class="token operator">:</span> DishService<span class="token punctuation">,</span>
    <span class="token keyword">private</span> userService<span class="token operator">:</span> UserService
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span>currentUser$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>currentUser <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUser <span class="token operator">=</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'currentUser:'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUser<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">addDish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentUser<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-1q6lt2k"><a href="https://www.typescriptlang.org/tsconfig#useUnknownInCatchVariables" title="https://www.typescriptlang.org/tsconfig#useUnknownInCatchVariables" rel="nofollow">useUnknownInCatchVariables</a></h3> <p data-svelte-h="svelte-1200mb4">Types the <code>err</code> variable in <code>catch()</code> blocks as <code>unknown</code>, not automatically <code>Error</code>. Technically you could <code>throw</code> anything in a <code>try</code> block.</p> <pre class="language-typescript"><!-- HTML_TAG_START -->${`<code class="language-typescript"><span class="token keyword">async</span> <span class="token function">addDish</span><span class="token punctuation">(</span>dishId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dishService<span class="token punctuation">.</span><span class="token function">addDish</span><span class="token punctuation">(</span>existingDish<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-1lru34u">Options for Incrementally Adopting Strict Mode</h2> <h3 data-svelte-h="svelte-84lscl">Don’t: Multiple <code>tsconfig</code> files</h3> <p data-svelte-h="svelte-a5t8t">One piece of advice I see a lot online is to use multiple <code>tsconfig.json</code> files. This is inadvisable because you will have to run <code>tsc</code> once for each <code>tsconfig</code> file. There are other, easier options.</p> <h3 data-svelte-h="svelte-lfu7za">Do: Enable individual flags</h3> <p data-svelte-h="svelte-mfzxqy">As explained above, <code>&quot;strict&quot;: true</code> is shorthand for several properties. One way to incrementally adopt strict mode is to run builds with individual <code>strict</code> properties enabled and see how many errors each flag generates. If a flag causes little to no build errors, these can be enabled immediately.</p> <p data-svelte-h="svelte-umv7zv">Over time, your team can enable each <code>strict</code> sub-flag. When all of them are active, you can replace them with <code>&quot;strict&quot;: true</code>.</p> <p data-svelte-h="svelte-9sn59x">This approach gives your code some of the benefits of strict mode immediately. However, some sub-flags of strict mode are disproportionately difficult to enable. Even if you get <code>noImplicitThis</code> for free, <code>strictNullChecks</code> might require a large amount of work.</p> <h3 data-svelte-h="svelte-hptxf6">Do: Use <code>typescript-strict-plugin</code></h3> <p data-svelte-h="svelte-1ivw651"><a href="https://github.com/allegro/typescript-strict-plugin" title="https://github.com/allegro/typescript-strict-plugin" rel="nofollow">typescript-strict-plugin</a> is an NPM package that allows you apply strict mode to either:</p> <ul data-svelte-h="svelte-1d2emq3"><li>All files, with some exempted using <code>// @ts-strict-ignore</code></li> <li>Any directory or file specified in your <code>tsconfig.json</code></li></ul> <p data-svelte-h="svelte-1d0qhhq">This plugin really breaks up the work of strict mode. You could, for example, incrementally add directories to be parsed strictly. You could also require strict mode for all code except the files at time of setup, so all new code is strict.</p> <p data-svelte-h="svelte-1mfxeb4">The biggest downside to this approach is it adds complexity to your build process by adding a third-party plugin.</p> <h3 data-svelte-h="svelte-15w9ve6">Do: Use <code>ts-strictify</code></h3> <p data-svelte-h="svelte-197cj3h"><a href="https://www.npmjs.com/package/ts-strictify" title="https://www.npmjs.com/package/ts-strictify" rel="nofollow">ts-strictify</a> requires developers to implement strict mode in any file they edit. It can be added as a pre-commit hook using <a href="https://www.npmjs.com/package/husky" title="https://www.npmjs.com/package/husky" rel="nofollow">husky</a> or <a href="https://www.npmjs.com/package/@arkweid/lefthook" title="https://www.npmjs.com/package/@arkweid/lefthook" rel="nofollow">lefthook</a>.</p> <p data-svelte-h="svelte-1h0xhm8">This package is a good way to require developers edit code moving forward, as opposed to relying on the product manager to prioritize stories to clean up old code. However, it sounds daunting to implement strict mode in giant old files.</p> <h2 data-svelte-h="svelte-8qd9c1">Final Recommendation</h2> <p data-svelte-h="svelte-1sfon48">The best way to adopt strict mode depends on your organization, team makeup, and story selection process. However, I would recommend a mix of three approaches:</p> <ul data-svelte-h="svelte-njy91x"><li>If a strict mode sub-flag like <code>strictBindCallApply</code> generates so few errors you could fix them in a day, enable it immediately. Do this for all the “easy” flags.</li> <li>Use <a href="https://github.com/allegro/typescript-strict-plugin" title="https://github.com/allegro/typescript-strict-plugin" rel="nofollow">typescript-strict-plugin</a> to exempt all existing code from strict mode, enable it for new code and periodically update the old code to be strict-compliant. That way you’re not adding to the pile of strict mode updates.</li></ul>`;
});
export {
  Incremental_angular_typescript_adoption as default,
  metadata
};
